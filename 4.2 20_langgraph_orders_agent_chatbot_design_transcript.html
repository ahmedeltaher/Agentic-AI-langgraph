<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تصميم وكيل الطلبات وشات بوت LangGraph - دورة بناء الوكلاء الذكية</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      line-height: 1.8;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      text-align: center;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    .header h1 {
      color: #2c3e50;
      font-size: 2.8em;
      margin-bottom: 20px;
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header .subtitle {
      color: #7f8c8d;
      font-size: 1.3em;
      font-style: italic;
      margin-bottom: 10px;
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      border-left: 6px solid #3498db;
      transition: all 0.3s ease;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
    }

    .card-title {
      color: #2c3e50;
      font-size: 2em;
      margin-bottom: 25px;
      font-weight: bold;
      border-bottom: 3px solid #ecf0f1;
      padding-bottom: 15px;
    }

    .card-content {
      color: #34495e;
      font-size: 1.2em;
      text-align: justify;
      line-height: 1.9;
    }

    .code-card {
      background: #2c3e50;
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
      border-left: 6px solid #e74c3c;
      direction: ltr;
      text-align: left;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .code-card pre {
      color: #ecf0f1;
      font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
      font-size: 1.1em;
      overflow-x: auto;
      margin: 0;
      white-space: pre-wrap;
    }

    .highlight-box {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
    }

    .info-box {
      background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(116, 185, 255, 0.3);
    }

    .success-box {
      background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(85, 239, 196, 0.3);
    }

    .warning-box {
      background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(253, 203, 110, 0.3);
    }

    .steps-container {
      background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
      color: white;
      padding: 30px;
      border-radius: 20px;
      margin: 25px 0;
      box-shadow: 0 15px 40px rgba(162, 155, 254, 0.3);
    }

    .step-item {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin: 15px 0;
      border-left: 4px solid #ffffff;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .feature-item {
      background: rgba(255, 255, 255, 0.1);
      padding: 25px;
      border-radius: 15px;
      border-left: 5px solid #3498db;
      -webkit-backdrop-filter: blur(5px);
      backdrop-filter: blur(5px);
    }

    .feature-item h4 {
      color: #2c3e50;
      margin-bottom: 15px;
      font-size: 1.4em;
    }

    .instructor-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
      padding: 30px;
      border-radius: 20px;
      margin-top: 40px;
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
    }

    .instructor-card h3 {
      font-size: 1.8em;
      margin-bottom: 15px;
    }

    .design-intro-box {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(168, 237, 234, 0.3);
    }

    .orders-chatbot-box {
      background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(210, 153, 194, 0.3);
    }

    .database-box {
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(255, 236, 210, 0.3);
    }

    .function-tools-box {
      background: linear-gradient(135deg, #b3e5fc 0%, #81c784 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(179, 229, 252, 0.3);
    }

    .agent-architecture-box {
      background: linear-gradient(135deg, #ffb74d 0%, #ff9800 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(255, 183, 77, 0.3);
    }

    .graph-design-box {
      background: linear-gradient(135deg, #c8e6c9 0%, #81c784 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(200, 230, 201, 0.3);
    }

    .node-flow-box {
      background: linear-gradient(135deg, #e1bee7 0%, #ce93d8 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(225, 190, 231, 0.3);
    }

    .conditional-logic-box {
      background: linear-gradient(135deg, #ffcdd2 0%, #f8bbd9 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(255, 205, 210, 0.3);
    }

    .flow-control-box {
      background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
      color: #2c3e50;
      padding: 25px;
      border-radius: 15px;
      margin: 25px 0;
      font-weight: 500;
      box-shadow: 0 10px 30px rgba(255, 243, 224, 0.3);
    }

    .tool-item {
      background: rgba(52, 152, 219, 0.1);
      border: 2px solid #3498db;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      border-left: 5px solid #3498db;
    }

    .node-item {
      background: rgba(230, 126, 34, 0.1);
      border: 2px solid #e67e22;
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
      border-left: 5px solid #e67e22;
    }

    .flow-diagram {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .flow-step {
      display: inline-block;
      background: #3498db;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      margin: 10px;
      font-weight: bold;
      box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
    }

    .flow-arrow {
      font-size: 1.5em;
      color: #e67e22;
      margin: 0 10px;
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 2.2em;
      }

      .card {
        padding: 20px;
        margin-bottom: 20px;
      }

      .feature-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .code-card {
        padding: 15px;
      }

      .flow-step {
        display: block;
        margin: 10px auto;
      }

      .flow-arrow {
        display: block;
        text-align: center;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>تصميم وكيل الطلبات وشات بوت LangGraph</h1>
      <p class="subtitle">من المفاهيم النظرية للتطبيق العملي المتقدم</p>
    </div>

    <!-- بداية التصميم العملي -->
    <div class="card">
      <h2 class="card-title">🎨 بداية مرحلة التصميم العملي</h2>
      <div class="card-content">
        <p>المدرب بدأ بحماس كبير وقال: "تعالوا دلوقتي نصمم الشات بوت الوكيل المخصص بتاعنا، شامل الـ graph للوكيل!" دي
          اللحظة اللي كنا مستنينها - هنطبق كل المفاهيم اللي اتعلمناها!</p>

        <div class="design-intro-box">
          <strong>🎯 الهدف الجديد - Orders Chatbot:</strong><br>
          المدرب أعلن إننا <strong>هنبني orders chatbot يقدر يجاوب على أسئلة عن طلبات اللابتوبات</strong>. مش مجرد شات
          بوت عادي، ده شات بوت متخصص في إدارة ومتابعة الطلبات!
        </div>

        <p>بس المدرب مكتفاش بكده! قال إن الشات بوت ده <strong>كمان عنده actions</strong>. يعني مش بس بيجاوب على الأسئلة،
          لا كمان <strong>يقدر يحدث الطلبات بناء على input المستخدم</strong>!</p>

        <div class="highlight-box">
          <strong>🚀 قفزة نوعية في الوظائف:</strong><br>
          • <strong>Query Functions:</strong> البحث والاستعلام عن الطلبات<br>
          • <strong>Action Functions:</strong> تحديث وتعديل الطلبات<br>
          • <strong>Interactive Intelligence:</strong> تفاعل ذكي مع قاعدة البيانات<br>
          • <strong>Real-time Updates:</strong> تحديثات فورية حسب طلب المستخدم
        </div>

        <div class="success-box">
          <strong>💡 من المعلومات للأفعال:</strong><br>
          ده تطور مهم جداً! مش مجرد نظام معلومات، ده نظام تفاعلي حقيقي يقدر يغير ويحدث البيانات. زي مساعد شخصي ذكي مش بس
          يقولك معلومات، كمان ينفذلك المهام!
        </div>
      </div>
    </div>

    <!-- قاعدة البيانات والبنية التحتية -->
    <div class="card">
      <h2 class="card-title">🗄️ البنية التحتية وقاعدة البيانات</h2>
      <div class="card-content">
        <p>المدرب وضح البنية التقنية للنظام وقال إن عنده <strong>RDBMS بتخزن تفاصيل كل طلبات اللابتوبات</strong>.</p>

        <div class="database-box">
          <strong>🔧 التبسيط للتعلم:</strong><br>
          بس المدرب عارف إن التعلم لازم يبقى مبسط! قال: <strong>"للمثال بتاعنا، هنستخدم Pandas Data Frame ببساطة عشان
            نمثل جدول."</strong> ده تبسيط ذكي يخلينا نركز على المنطق مش على تعقيدات قاعدة البيانات!
        </div>

        <div class="info-box">
          <strong>🎯 الحكمة في التبسيط:</strong><br>
          استخدام Pandas DataFrame بدل RDBMS حقيقي بيساعدنا نفهم المنطق بوضوح. في التطبيقات الحقيقية، ممكن نستبدل
          DataFrame بأي قاعدة بيانات حقيقية بدون تغيير المنطق الأساسي!
        </div>

        <div class="warning-box">
          <strong>📊 مميزات Pandas للنماذج الأولية:</strong><br>
          • سهولة التعامل والتجربة<br>
          • سرعة في النمذجة والاختبار<br>
          • مرونة في تعديل البيانات<br>
          • لا يحتاج إعداد قاعدة بيانات معقدة<br>
          • مثالي للتعلم والفهم
        </div>

        <p>ده قرار ذكي من المدرب! بدل ما نتعقد في إعداد قواعد بيانات حقيقية ونضيع وقت في الـ configuration، نقدر نركز
          على الجزء الأهم وهو منطق الوكيل وتصميم الـ graph.</p>

        <div class="highlight-box">
          <strong>🔄 من النموذج للواقع:</strong><br>
          المدرب عارف إن اللي هنتعلمه هنا سهل تطبيقه على قواعد بيانات حقيقية. الـ DataFrame هو just a proof of concept،
          والمنطق الحقيقي هو اللي مهم وده اللي هيتنقل لأي تطبيق حقيقي!
        </div>
      </div>
    </div>

    <!-- أدوات الدوال (Function Tools) -->
    <div class="card">
      <h2 class="card-title">🛠️ أدوات الدوال المتخصصة</h2>
      <div class="card-content">
        <p>المدرب بدأ يعرض الأدوات اللي هنشتغل بيها، وكل أداة ليها دور محدد ومهم في النظام:</p>

        <div class="function-tools-box">
          <strong>🔧 مجموعة الأدوات الأساسية:</strong><br>
          المدرب حدد اتنين function tools أساسية هنشتغل بيهم. كل أداة متخصصة في جانب معين من إدارة الطلبات.
        </div>

        <div class="steps-container">
          <h3>🛠️ الأدوات المتاحة بالتفصيل:</h3>

          <div class="step-item tool-item">
            <strong>🔍 get_order_details:</strong><br>
            المدرب قال إن <strong>"الأداة دي تقدر توفر تفاصيل لطلب محدد بناء على order ID"</strong>.
            <br><br>
            <strong>📝 التفصيل:</strong> دي أداة البحث والاستعلام! المستخدم يدي رقم الطلب، والأداة تروح تدور في قاعدة
            البيانات وتجيب كل التفاصيل المطلوبة. زي دليل التليفونات الذكي - تقوله رقم، يجيبلك كل المعلومات!
          </div>

          <div class="step-item tool-item">
            <strong>✏️ update_quantity:</strong><br>
            المدرب وضح إن <strong>"دي تقدر تحدث كمية اللابتوبات في طلب، given order ID"</strong>.
            <br><br>
            <strong>📝 التفصيل:</strong> دي أداة التعديل والتحديث! المستخدم يقول عايز يغير الكمية، والأداة تروح تعدل في
            قاعدة البيانات فوراً. مش مجرد معلومات، ده تفاعل حقيقي مع النظام!
          </div>
        </div>

        <div class="warning-box">
          <strong>🎯 تبسيط مدروس:</strong><br>
          المدرب أكد إن <strong>"عشان نخلي الأمور بسيطة، كل طلب هيبقى فيه نوع لابتوب واحد بس"</strong>. ده تبسيط ذكي
          يخلينا نركز على المنطق الأساسي مش على تعقيدات إدارة عناصر متعددة.
        </div>

        <div class="info-box">
          <strong>🚀 إمكانيات التوسع:</strong><br>
          المدرب نبه على نقطة مهمة: <strong>"في تطبيق real-world، ممكن يكون في عدة function tools للاستعلام
            والتحديث"</strong>. يعني اللي بنتعلمه ده foundation للبناء عليه، مش الحد النهائي!
        </div>

        <div class="success-box">
          <strong>💡 أمثلة لأدوات إضافية في الواقع:</strong><br>
          • إضافة منتجات جديدة للطلب<br>
          • إلغاء الطلب بالكامل<br>
          • تغيير عنوان التوصيل<br>
          • تحديث معلومات الدفع<br>
          • تتبع حالة الشحن<br>
          • إرسال إشعارات للعميل
        </div>

        <p>اختيار الأدوات ده مدروس جداً! غطى الوظيفتين الأساسيتين: القراءة والكتابة. كده عندنا نموذج مكتمل نقدر نبني
          عليه أي نظام أكثر تعقيداً.</p>
      </div>
    </div>

    <!-- معمارية الوكيل -->
    <div class="card">
      <h2 class="card-title">🏛️ معمارية Orders Agent</h2>
      <div class="card-content">
        <p>المدرب بدأ يوضح إزاي كل الأجزاء دي هتشتغل مع بعض في منظومة متكاملة:</p>

        <div class="agent-architecture-box">
          <strong>🤖 Orders Agent - العقل المفكر:</strong><br>
          المدرب قال إن <strong>"orders agent بيستخدم الاتنين function tools دول. يقدر يبحث ويحدث الطلبات بناء على user
            input"</strong>.
        </div>

        <div class="steps-container">
          <h3>🧠 مكونات النظام الذكي:</h3>

          <div class="step-item">
            <strong>🔗 التكامل مع LLM:</strong><br>
            المدرب وضح إن الوكيل <strong>"متصل بـ LLM لتحليل الـ prompts، تحديد خطط التنفيذ، ومراجعة الـ
              outputs"</strong>.
            <br><br>
            <strong>📝 الدور:</strong> الـ LLM هو العقل اللي بيفهم كلام المستخدم، يحلله، ويقرر إيه الخطوات المطلوبة. زي
            مستشار ذكي بيقرأ الموقف ويحدد الاستراتيجية!
          </div>

          <div class="step-item">
            <strong>💬 Orders Chatbot - الواجهة التفاعلية:</strong><br>
            المدرب قال إن <strong>"orders chatbot بيوفر واجهة المستخدم وذاكرة المحادثة ومتصل بـ orders agent"</strong>.
            <br><br>
            <strong>📝 الدور:</strong> ده الجزء اللي المستخدم يشوفه ويتفاعل معاه. بيحافظ على سياق المحادثة ويقدم تجربة
            سلسة ومريحة!
          </div>
        </div>

        <div class="highlight-box">
          <strong>🔄 التدفق الذكي للمعلومات:</strong><br>
          المستخدم → Chatbot → Agent → LLM → Tools → Database<br>
          Database → Tools → Agent → LLM → Chatbot → المستخدم
        </div>

        <div class="success-box">
          <strong>🎯 مثال عملي للتفاعل:</strong><br>
          المدرب ضرب مثال واضح: المستخدم يقدر يقول <strong>"Show me the order details for ORD-7311"</strong> والشات بوت
          هيقدر يجاوبه! شوف البساطة من ناحية المستخدم والتعقيد التقني من ورا!
        </div>

        <div class="info-box">
          <strong>⚡ قوة التكامل:</strong><br>
          كل جزء في النظام له دور محدد، بس كلهم بيشتغلوا كفريق واحد. الـ Chatbot بيفهم المستخدم، الـ Agent بيخطط، الـ
          LLM بيحلل، والـ Tools بتنفذ. تعاون مثالي!
        </div>
      </div>
    </div>

    <!-- تصميم الـ Graph -->
    <div class="card">
      <h2 class="card-title">📊 تصميم Graph للـ Orders Agent</h2>
      <div class="card-content">
        <p>دلوقتي وصلنا للجزء الأهم! المدرب قال: "تعالوا دلوقتي نصمم الـ graph للـ orders agent." هنا هنشوف كل المفاهيم
          اللي اتعلمناها بتتحول لتصميم عملي!</p>

        <div class="graph-design-box">
          <strong>🎨 من المفاهيم للتصميم:</strong><br>
          دلوقتي هنشوف إزاي الـ nodes والـ edges والـ agent state كلهم هيتجمعوا في تصميم متماسك وذكي. كل حاجة اتعلمناها
          هتلاقي مكانها في الـ graph ده!
        </div>

        <div class="flow-diagram">
          <div class="flow-step">المستخدم يسأل</div>
          <span class="flow-arrow">⬇️</span>
          <div class="flow-step">Orders LLM Node</div>
          <span class="flow-arrow">⬇️</span>
          <div class="flow-step">Conditional Edge</div>
          <span class="flow-arrow">⬇️⬆️</span>
          <div class="flow-step">Order Tools Node</div>
          <span class="flow-arrow">⬇️</span>
          <div class="flow-step">النتيجة النهائية</div>
        </div>

        <div class="steps-container">
          <h3>🎯 العقدة الأولى - Orders LLM:</h3>

          <div class="step-item node-item">
            <strong>🧠 المهمة الأساسية:</strong><br>
            المدرب قال إن <strong>"أول node في الـ graph هي orders LLM. بتقرأ الـ input query وتبعته للـ LLM عشان تحدد
              الخطوات الجاية"</strong>.
            <br><br>
            <strong>📝 التفصيل:</strong> دي نقطة البداية والتفكير! بتاخد كلام المستخدم الخام وتحوله لفهم منطقي وخطة عمل
            واضحة.
          </div>

          <div class="step-item node-item">
            <strong>📋 المخرجات المتوقعة:</strong><br>
            المدرب وضح إن <strong>"الـ LLM هيرجع قائمة من الـ actions. في الحالة دي، هيوفر الأداة المطلوب استدعاؤها والـ
              parameters للأداة"</strong>.
            <br><br>
            <strong>📝 التفصيل:</strong> مش مجرد فهم، ده تخطيط كامل! الـ LLM بيحدد بالضبط إيه الأداة المناسبة وإيه
            البيانات اللي محتاجها.
          </div>

          <div class="step-item node-item">
            <strong>💾 التفاعل مع Agent State:</strong><br>
            المدرب أكد إن <strong>"orders LLM node بتخزن الـ user query الداخل، وكمان مخرجات الـ LLM في agent state. ده
              شامل الأداة المطلوب استدعاؤها والـ parameters للأداة"</strong>.
            <br><br>
            <strong>📝 التفصيل:</strong> كل حاجة بتتسجل في الذاكرة المشتركة! كده باقي العقد تقدر تشوف إيه اللي حصل وإيه
            المطلوب منها.
          </div>
        </div>

        <div class="highlight-box">
          <strong>🎯 ذكاء العقدة الأولى:</strong><br>
          العقدة دي مش مجرد نقطة عبور، دي مركز القرار! بتفهم المطلوب، تخطط للتنفيذ، وتحفظ كل حاجة في مكان آمن عشان باقي
          النظام يستفيد منها.
        </div>
      </div>
    </div>

    <!-- المنطق الشرطي والتحكم -->
    <div class="card">
      <h2 class="card-title">🤔 المنطق الشرطي والتحكم الذكي</h2>
      <div class="card-content">
        <p>المدرب انتقل لجزء مهم جداً في التصميم - نقطة اتخاذ القرار! قال إن <strong>"orders LLM بعدين بتستدعي
            conditional edge"</strong>.</p>

        <div class="conditional-logic-box">
          <strong>🔍 آلية الفحص الذكي:</strong><br>
          المدرب وضح إن <strong>"الـ edge ده بيفحص إذا كان الـ action الجاي اللي حدده الـ LLM هو tool call"</strong>. دي
          نقطة اتخاذ القرار الحرجة في النظام!
        </div>

        <div class="steps-container">
          <h3>⚙️ آلية عمل Conditional Edge:</h3>

          <div class="step-item">
            <strong>👁️ قراءة الحالة:</strong><br>
            المدرب قال إن <strong>"عشان كده، بيقرأ مخرجات الـ node السابق من الـ agent state"</strong>.
            <br><br>
            <strong>📝 المعنى:</strong> الـ edge مش بياخد قرارات عشوائية، لا بيدرس الموقف الحالي ويشوف إيه اللي حصل في
            الخطوة اللي فاتت.
          </div>

          <div class="step-item">
            <strong>✍️ تسجيل القرار:</strong><br>
            المدرب أكد إن الـ edge <strong>"كمان بيكتب مخرجاته في الـ agent state"</strong>.
            <br><br>
            <strong>📝 المعنى:</strong> مش بس بياخد قرار، كمان بيسجل القرار ده عشان باقي النظام يعرف إيه اللي حصل وإيه
            المسار اللي اتاخد.
          </div>

          <div class="step-item">
            <strong>🛤️ التوجيه الذكي:</strong><br>
            المدرب وضح إن <strong>"لو الـ action الجاي هو tool call، التحكم يروح للـ order tools node"</strong>.
            <br><br>
            <strong>📝 المعنى:</strong> القرار هنا بسيط بس قوي - لو محتاجين أداة، نروح لعقدة الأدوات. لو مش محتاجين،
            نكمل في مسار تاني.
          </div>
        </div>

        <div class="info-box">
          <strong>🎯 مثال على القرارات المحتملة:</strong><br>
          • <strong>Tool Call Required:</strong> "المستخدم عايز تفاصيل طلب" → روح لأداة البحث<br>
          • <strong>Direct Response:</strong> "المستخدم بيقول شكراً" → رد مباشر مفيش أدوات<br>
          • <strong>Clarification Needed:</strong> "السؤال مش واضح" → اطلب توضيح
        </div>

        <div class="highlight-box">
          <strong>⚡ قوة المنطق الشرطي:</strong><br>
          النظام مش ماشي في مسار واحد ثابت، لا ده بيتخذ قرارات ذكية حسب كل موقف. كده بيبقى مرن وقادر على التعامل مع
          سيناريوهات مختلفة بكفاءة!
        </div>
      </div>
    </div>

    <!-- عقدة الأدوات والتنفيذ -->
    <div class="card">
      <h2 class="card-title">🔧 عقدة الأدوات والتنفيذ العملي</h2>
      <div class="card-content">
        <p>المدرب وصل لجزء التنفيذ الفعلي وقال إن <strong>"order tool nodes بتوصل للأداة المطلوب تنفيذها والـ parameters
            للأداة دي من الـ agent state"</strong>.</p>

        <div class="node-flow-box">
          <strong>🎯 دور عقدة الأدوات:</strong><br>
          دي العقدة اللي بتحول الأفكار والخطط لأفعال حقيقية! بتاخد التوجيهات وتنفذها فعلياً على قاعدة البيانات.
        </div>

        <div class="steps-container">
          <h3>⚙️ دورة حياة التنفيذ:</h3>

          <div class="step-item">
            <strong>📖 قراءة التعليمات:</strong><br>
            أول حاجة العقدة بتعملها إنها تقرأ من الـ agent state إيه الأداة المطلوبة وإيه الـ parameters اللي محتاجاها.
            <br><br>
            <strong>📝 مثال:</strong> "استخدم get_order_details مع order_id = ORD-7311"
          </div>

          <div class="step-item">
            <strong>⚡ التنفيذ الفعلي:</strong><br>
            المدرب قال إن العقدة <strong>"هتنفذ الأداة، تجيب النتائج"</strong>.
            <br><br>
            <strong>📝 المعنى:</strong> هنا بيحصل الشغل الحقيقي! الأداة بتشتغل، تدور في قاعدة البيانات، وترجع بالمعلومات
            المطلوبة.
          </div>

          <div class="step-item">
            <strong>💾 حفظ النتائج:</strong><br>
            المدرب أكد إن العقدة <strong>"تكتب النتائج دي في الـ agent state"</strong>.
            <br><br>
            <strong>📝 الأهمية:</strong> النتائج مش بتضيع، بتتحفظ في المكان المشترك عشان باقي النظام يستفيد منها.
          </div>

          <div class="step-item">
            <strong>🔄 العودة للتحليل:</strong><br>
            المدرب قال إن <strong>"التحكم بعدين يرجع تاني للـ orders LLM"</strong>.
            <br><br>
            <strong>📝 الحكمة:</strong> بعد التنفيذ، لازم نرجع للعقل المفكر عشان يقيم النتائج ويقرر إيه الخطوة الجاية.
          </div>
        </div>

        <div class="highlight-box">
          <strong>🔄 الدورة المتكاملة:</strong><br>
          العقلة دي مش نهاية المطاف، دي محطة في رحلة متكاملة. بتنفذ المطلوب وترجع تسلم النتيجة للعقل المفكر عشان يقرر
          إيه اللي بعد كده.
        </div>

        <div class="success-box">
          <strong>💡 مثال عملي كامل:</strong><br>
          • المستخدم: "عايز تفاصيل الطلب ORD-7311"<br>
          • LLM Node: "استخدم get_order_details مع ORD-7311"<br>
          • Tools Node: "تنفيذ... النتيجة: تفاصيل الطلب الكاملة"<br>
          • Back to LLM: "تحليل النتيجة وتجهيز الرد للمستخدم"
        </div>
      </div>
    </div>

    <!-- منطق التحليل والتقييم -->
    <div class="card">
      <h2 class="card-title">🧠 منطق التحليل والتقييم الذكي</h2>
      <div class="card-content">
        <p>المدرب وضح الجزء الأذكى في النظام! قال إن <strong>"orders LLM node هتقرأ نتائج الـ tool call ده من الـ agent
            state"</strong>.</p>

        <div class="flow-control-box">
          <strong>🤔 التفكير النقدي:</strong><br>
          المدرب وضح إن العقدة <strong>"بعدين تحلل النتائج عشان تحدد إذا كان عندها معلومات كافية تخرج الـ output
            النهائي"</strong>. ده تفكير نقدي حقيقي!
        </div>

        <div class="steps-container">
          <h3>🔍 مراحل التقييم الذكي:</h3>

          <div class="step-item">
            <strong>✅ السيناريو الأول - المعلومات كافية:</strong><br>
            المدرب قال إن <strong>"لو عندها المعلومات، هتولد الـ output النهائي وتكتبه في الـ agent state"</strong>.
            <br><br>
            <strong>📝 المعنى:</strong> النظام ذكي كفاية يعرف إمتى يكون راضي عن النتائج ويقرر إن ده كفاية للإجابة على
            سؤال المستخدم.
          </div>

          <div class="step-item">
            <strong>🔄 السيناريو التاني - نحتاج معلومات أكتر:</strong><br>
            المدرب وضح إن <strong>"لو لا، هتحدد الخطوة الجاية، اللي ممكن تكون tool call"</strong>.
            <br><br>
            <strong>📝 الذكاء:</strong> النظام مش بيستسلم! لو المعلومات مش كافية، بيفكر في خطوة تانية ممكن تساعد في
            الوصول للإجابة الكاملة.
          </div>

          <div class="step-item">
            <strong>🔁 التكرار الذكي:</strong><br>
            المدرب أكد إن <strong>"نفس التدفق يتكرر تاني لحد ما النتيجة النهائية تتحصل"</strong>.
            <br><br>
            <strong>📝 الصبر:</strong> النظام مستعد يكرر العملية أكتر من مرة لحد ما يوصل للإجابة المثالية. مش بيقبل
            بحلول ناقصة!
          </div>
        </div>

        <div class="info-box">
          <strong>🎯 أمثلة على التقييم الذكي:</strong><br>
          • <strong>كافي:</strong> "جبت تفاصيل الطلب كاملة" → رد نهائي<br>
          • <strong>ناقص:</strong> "عرفت الطلب بس محتاج أعرف سعر اللابتوب" → tool call تاني<br>
          • <strong>غير واضح:</strong> "النتيجة مش مفهومة" → اطلب توضيح أو جرب طريقة تانية
        </div>

        <div class="highlight-box">
          <strong>🧠 الذكاء الحقيقي:</strong><br>
          ده مش مجرد تنفيذ أعمى للتعليمات، ده تفكير حقيقي! النظام بيقيم ويحكم ويقرر. بيسأل نفسه: "هل ده كفاية؟ ولا لازم
          أعمل حاجة تانية؟"
        </div>

        <div class="success-box">
          <strong>🎭 مثال معقد:</strong><br>
          المستخدم: "عايز أزود كمية الطلب اللي اشتريته امبارح"<br>
          • الخطوة 1: دور على طلبات الأمس للمستخدم ده<br>
          • الخطوة 2: حدد الطلب المقصود<br>
          • الخطوة 3: زود الكمية<br>
          • الخطوة 4: أكد التحديث للمستخدم
        </div>
      </div>
    </div>

    <!-- الإنهاء والإرجاع -->
    <div class="card">
      <h2 class="card-title">🏁 الإنهاء الذكي وإرجاع النتائج</h2>
      <div class="card-content">
        <p>المدرب وصل لنقطة النهاية الذكية وقال إن <strong>"لو النتيجة النهائية متاحة، الـ conditional edge هينهي
            الاستدعاء"</strong>.</p>

        <div class="flow-control-box">
          <strong>🎯 الإنهاء المناسب:</strong><br>
          النظام ذكي كفاية يعرف إمتى يتوقف! مش بيفضل يشتغل لأجل غير مسمى، لا بيقرر بحكمة إن المهمة تمت ووقت الإنهاء جه.
        </div>

        <div class="steps-container">
          <h3>🔚 مراحل الإنهاء الذكي:</h3>

          <div class="step-item">
            <strong>✅ تقييم الاكتمال:</strong><br>
            النظام بيشوف إذا كان وصل لنتيجة نهائية مرضية ومفيدة للمستخدم.
            <br><br>
            <strong>📝 المعايير:</strong> الإجابة كاملة، واضحة، ومفيدة، وبتحل مشكلة المستخدم الأصلية.
          </div>

          <div class="step-item">
            <strong>🔄 الإرجاع للشات بوت:</strong><br>
            المدرب قال إن <strong>"النتائج في الـ agent state بترجع للـ calling function، اللي هي الشات بوت"</strong>.
            <br><br>
            <strong>📝 التسليم:</strong> كل الشغل والنتائج ترجع للشات بوت عشان يقدمها للمستخدم بشكل مناسب وودود.
          </div>

          <div class="step-item">
            <strong>👤 تقديم النتيجة للمستخدم:</strong><br>
            الشات بوت ياخد النتائج التقنية ويحولها لإجابة مفهومة وودودة للمستخدم.
            <br><br>
            <strong>📝 التحويل:</strong> من اللغة التقنية للغة الإنسان الطبيعي والمريح.
          </div>
        </div>

        <div class="highlight-box">
          <strong>🔄 دورة حياة كاملة:</strong><br>
          المستخدم → Chat UI → Agent → LLM → Tools → Database → Tools → LLM → Agent → Chat UI → المستخدم
        </div>

        <div class="success-box">
          <strong>🎯 التنظيم المثالي:</strong><br>
          كل جزء في النظام عارف دوره بالضبط. مفيش تداخل أو فوضى. كل واحد بيعمل شغله ويسلم للي بعده. نظام منظم وفعال
          جداً!
        </div>

        <div class="info-box">
          <strong>💡 مثال الدورة الكاملة:</strong><br>
          1. "عايز أشوف طلب ORD-7311" (المستخدم)<br>
          2. تحليل الطلب وتحديد الأداة المناسبة (LLM)<br>
          3. البحث في قاعدة البيانات (Tool)<br>
          4. تقييم النتيجة وتجهيز الرد (LLM)<br>
          5. "تفاصيل طلبك: لابتوب Dell XPS، الكمية 2..." (Chatbot)
        </div>
      </div>
    </div>

    <!-- الانتقال للتطبيق -->
    <div class="card">
      <h2 class="card-title">🚀 الانتقال من التصميم للتطبيق</h2>
      <div class="card-content">
        <p>المدرب ختم بالجملة المنتظرة: <strong>"تعالوا دلوقتي نبدأ نطبق الـ graph ده."</strong> من التصميم النظري للكود
          العملي!</p>

        <div class="highlight-box">
          <strong>🎯 ما حققناه في التصميم:</strong><br>
          • فهم عميق لمتطلبات النظام<br>
          • تصميم معماري متكامل وذكي<br>
          • تحديد الأدوار والمسؤوليات<br>
          • رسم خريطة طريق واضحة للتنفيذ<br>
          • ضمان التكامل بين كل المكونات
        </div>

        <div class="feature-grid">
          <div class="feature-item">
            <h4>🧠 LLM Node</h4>
            <p>العقل المفكر - يحلل ويخطط ويقيم النتائج</p>
          </div>
          <div class="feature-item">
            <h4>🛠️ Tools Node</h4>
            <p>اليد العاملة - تنفذ المهام على قاعدة البيانات</p>
          </div>
          <div class="feature-item">
            <h4>🤔 Conditional Edge</h4>
            <p>صانع القرار - يوجه التدفق حسب الحاجة</p>
          </div>
          <div class="feature-item">
            <h4>💾 Agent State</h4>
            <p>الذاكرة المشتركة - تحفظ كل شيء للجميع</p>
          </div>
          <div class="feature-item">
            <h4>🔄 Smart Loop</h4>
            <p>الدورة الذكية - تكرر حتى الوصول للنتيجة المثلى</p>
          </div>
          <div class="feature-item">
            <h4>🎯 Intelligent Exit</h4>
            <p>الخروج الذكي - ينهي عند اكتمال المهمة</p>
          </div>
        </div>

        <div class="success-box">
          <strong>🏆 التصميم المتكامل:</strong><br>
          دلوقتي عندنا تصميم متكامل وذكي للـ orders agent! كل جزء مدروس ومحدد دوره بدقة. الخطوة الجاية هنشوف التصميم ده
          بيتحول لكود حقيقي شغال!
        </div>

        <div class="warning-box">
          <strong>🎓 أهمية مرحلة التصميم:</strong><br>
          الوقت اللي قضيناه في التصميم مش مضيعة! ده استثمار هيوفر علينا ساعات من التجريب والأخطاء. التصميم الجيد هو نصف
          النجاح في أي مشروع تقني!
        </div>
      </div>
    </div>

    <!-- ملخص التصميم -->
    <div class="card">
      <h2 class="card-title">📚 ملخص التصميم الشامل</h2>
      <div class="card-content">
        <div class="feature-grid">
          <div class="feature-item">
            <h4>🎯 الهدف</h4>
            <p>Orders chatbot للاستعلام والتحديث على طلبات اللابتوبات</p>
          </div>
          <div class="feature-item">
            <h4>🗄️ قاعدة البيانات</h4>
            <p>Pandas DataFrame (مبسطة للتعلم، قابلة للتوسع)</p>
          </div>
          <div class="feature-item">
            <h4>🔍 أداة الاستعلام</h4>
            <p>get_order_details - للبحث عن تفاصيل الطلبات</p>
          </div>
          <div class="feature-item">
            <h4>✏️ أداة التحديث</h4>
            <p>update_quantity - لتعديل كميات الطلبات</p>
          </div>
          <div class="feature-item">
            <h4>🤖 Orders Agent</h4>
            <p>العقل المركزي - يخطط وينفذ ويقيم النتائج</p>
          </div>
          <div class="feature-item">
            <h4>💬 Orders Chatbot</h4>
            <p>الواجهة التفاعلية - يتفاعل مع المستخدم ويحفظ السياق</p>
          </div>
          <div class="feature-item">
            <h4>🧠 LLM Integration</h4>
            <p>تحليل الطلبات وتخطيط التنفيذ ومراجعة النتائج</p>
          </div>
          <div class="feature-item">
            <h4>🔄 Smart Flow</h4>
            <p>تدفق ذكي مع conditional edges ودورات تقييم</p>
          </div>
        </div>

        <div class="success-box">
          <strong>🎉 الإنجاز الكبير:</strong><br>
          انتقلنا من المفاهيم النظرية لتصميم عملي متكامل! دلوقتي عندنا blueprint واضح ومفصل لبناء نظام ذكي حقيقي. كل
          مفهوم اتعلمناه لقى مكانه في التصميم. الخطوة الجاية: تحويل التصميم لكود شغال!
        </div>
      </div>
    </div>

    <!-- معلومات المدرب -->
    <div class="instructor-card">
      <h3>👨‍🏫 المدرب</h3>
      <p>خبير في تصميم الأنظمة الذكية المعقدة وهندسة الوكلاء التفاعليين</p>
    </div>
  </div>
</body>

</html>